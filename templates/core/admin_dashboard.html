{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/pages/admin.css' %}">
{% endblock %}

{% block content %}
<div class="admin-container">
  {% include 'includes/admin_navbar.html' %}

  <div class="container-fluid px-4 py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1 class="admin-title">
        <i class="bi bi-speedometer2 me-2"></i>Painel Administrativo
      </h1>
    </div>

    <!-- Quick Stats -->
    <div class="row g-3 mb-4">
      <div class="col-md-4">
        <div class="stat-card">
          <div class="stat-icon bg-primary">
            <i class="bi bi-people"></i>
          </div>
          <div class="stat-content">
            <div class="stat-label">Total de Usuários</div>
            <div class="stat-value">{{ total_users }}</div>
            <small class="text-muted">{{ active_users }} ativos</small>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="stat-card">
          <div class="stat-icon bg-success">
            <i class="bi bi-geo-alt"></i>
          </div>
          <div class="stat-content">
            <div class="stat-label">Total de Lugares</div>
            <div class="stat-value">{{ total_places }}</div>
            <small class="text-muted">{{ approved_places }} aprovados</small>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="stat-card">
          <div class="stat-icon bg-warning">
            <i class="bi bi-hourglass-split"></i>
          </div>
          <div class="stat-content">
            <div class="stat-label">Pendentes</div>
            <div class="stat-value">{{ pending_places }}</div>
            <small class="text-muted">Aguardando aprovação</small>
          </div>
        </div>
      </div>
    </div>

    <!-- Admin Actions -->
    <div class="row g-3">
      <!-- User Management -->
      <div class="col-md-6">
        <div class="card admin-card">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-people-fill me-2"></i>Gerenciar Usuários
            </h5>
            <p class="card-text text-muted">
              Visualizar, editar e gerenciar contas de usuários do sistema.
            </p>
            <a href="{% url 'accounts:user_management' %}" class="btn btn-primary">
              <i class="bi bi-arrow-right-circle me-1"></i>Acessar
            </a>
          </div>
        </div>
      </div>

      <!-- Place Approval Queue -->
      <div class="col-md-6">
        <div class="card admin-card">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-check-circle-fill me-2"></i>Fila de Aprovação
            </h5>
            <p class="card-text text-muted">
              Revisar e aprovar lugares enviados pela comunidade.
              {% if pending_places > 0 %}
                <span class="badge bg-warning ms-1">{{ pending_places }}</span>
              {% endif %}
            </p>
            <a href="{% url 'explore:approval_queue' %}" class="btn btn-primary">
              <i class="bi bi-arrow-right-circle me-1"></i>Acessar
            </a>
          </div>
        </div>
      </div>

      <!-- Backlog -->
      <div class="col-md-6">
        <div class="card admin-card">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-archive-fill me-2"></i>Backlog
            </h5>
            <p class="card-text text-muted">
              Lugares rejeitados e histórico de aprovações.
            </p>
            <a href="{% url 'explore:backlog' %}" class="btn btn-primary">
              <i class="bi bi-arrow-right-circle me-1"></i>Acessar
            </a>
          </div>
        </div>
      </div>

      <!-- Django Admin -->
      <div class="col-md-6">
        <div class="card admin-card">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-gear-fill me-2"></i>Django Admin
            </h5>
            <p class="card-text text-muted">
              Acesso completo ao painel administrativo do Django.
            </p>
            <a href="/admin/" class="btn btn-secondary" target="_blank">
              <i class="bi bi-box-arrow-up-right me-1"></i>Abrir
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.admin-card {
  border: none;
  border-radius: var(--border-radius-md);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
  transition: all var(--transition-normal);
  height: 100%;
}

.admin-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-md);
}

.admin-card .card-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 0.75rem;
}

.admin-card .card-text {
  font-size: 0.95rem;
  margin-bottom: 1.25rem;
  min-height: 48px;
}
</style>
{% endblock %}
